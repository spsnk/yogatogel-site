(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{MBJH:function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),l=a("TSYQ"),o=a.n(l),u=a("q1tI"),m=a.n(u),c=a("vUet"),d=m.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,u=e.striped,d=e.bordered,i=e.borderless,s=e.hover,b=e.size,h=e.variant,E=e.responsive,g=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),f=Object(c.a)(a,"table"),p=o()(l,f,h&&f+"-"+h,b&&f+"-"+b,u&&f+"-striped",d&&f+"-bordered",i&&f+"-borderless",s&&f+"-hover"),v=m.a.createElement("table",Object(n.a)({},g,{className:p,ref:t}));if(E){var y=f+"-responsive";return"string"==typeof E&&(y=y+"-"+E),m.a.createElement("div",{className:y},v)}return v}));t.a=d},"vYG/":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("KQm4"),o=a("wHSu"),u=a("IP2g"),m=a("QojX"),c=a("cWnB"),d=a("3Z9Z"),i=a("JI6e"),s=a("MBJH");function b(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var E=function(e){var t=e.markets,a={number:"",d4:"",d3:"",d2:"",bb:!1},h=Object(n.useState)([Object.assign({},a)]),E=h[0],g=h[1],f=Object(n.useState)([]),p=f[0],v=f[1],y=Object(n.useState)({auto4d:"",auto3d:"",auto2d:""}),N=y[0],C=y[1],k=function(e){var t,a=e.target,n=a.dataset.game,r=a.value;C(Object.assign({},N,((t={})[n]=r,t)))},x=Object(n.useState)(-1),I=x[0],S=x[1],O=Object(n.useState)(0),T=O[0],w=O[1],B=function(){var e=Object.assign({},a);e.d4=isNaN(parseInt(N.auto4d))?"":N.auto4d,e.d3=isNaN(parseInt(N.auto3d))?"":N.auto3d,e.d2=isNaN(parseInt(N.auto2d))?"":N.auto2d,g([].concat(Object(l.a)(E),[e]))},j=function(e){var t=Array.from(E);t.length>1?e>-1&&t.splice(e,1):t=[Object.assign({},a)],g(t),M(t)},_=function(){var e=[Object.assign({},a)];g(e),M(e)},D=function(e){var t=e.target,a=t.dataset,n="checkbox"===t.type?t.checked:t.value,r=a.bet,l=a.field,o=Array.from(E),u=o[r];"number"===l&&n.length>4&&(n=n.slice(0,4)),u[l]=n,isNaN(parseInt(N.auto4d))||(u.d4=N.auto4d),isNaN(parseInt(N.auto3d))||(u.d3=N.auto3d),isNaN(parseInt(N.auto2d))||(u.d2=N.auto2d),o[r]=z(u),M(o),g(o)},M=function(e,a){if(-1!==I||void 0!==a){var n=[],r=t[void 0!==a?a:I].games,l=r.d4,o=r.d3,u=r.d2,m=0;e.forEach((function(e){var t={number:e.number,bets:[],total:0,totalBets:0,bb:e.bb};if(void 0!==l&&e.number.length>3&&!isNaN(parseInt(e.d4))&&e.d4>0){var a=e.number,r=parseInt(e.d4),c=1e3*r,d=Math.round(c*(l.discount/100)),i=Math.round(c*(l.fee/100)),s=c-d+i,b={game_id:l.game_id,game:"4d",number:a,amount:r,pretotal:c,discount:d,fee:i,total:s};if(e.bb){var h=A(b);h.forEach((function(e){t.bets.push(e)})),t.total+=b.total*h.length}else t.bets.push(b),t.total+=s}if(void 0!==o&&e.number.length>2&&!isNaN(parseInt(e.d3))&&e.d3>0){var E=e.number.slice(e.number.length-3),g=parseInt(e.d3),f=1e3*g,p=Math.round(f*(o.discount/100)),v=Math.round(f*(o.fee/100)),y=f-p+v,N={game_id:o.game_id,game:"3d",number:E,amount:g,pretotal:f,discount:p,fee:v,total:y};if(e.bb){var C=A(N);C.forEach((function(e){t.bets.push(e)})),t.total+=N.total*C.length}else t.bets.push(N),t.total+=y}if(void 0!==u&&e.number.length>1&&!isNaN(parseInt(e.d2))&&e.d2>0){var k=e.number.slice(e.number.length-2),x=parseInt(e.d2),I=1e3*x,S=Math.round(I*(u.discount/100)),O=Math.round(I*(u.fee/100)),T=I-S+O,w={game_id:u.game_id,game:"2d",number:k,amount:x,pretotal:I,discount:S,fee:O,total:T};if(e.bb){var B=A(w);B.forEach((function(e){t.bets.push(e)})),t.total+=w.total*B.length}else t.bets.push(w),t.total+=T}n.push(t),m+=t.total})),v(n),w(m)}},z=function(e){var a=isNaN(parseInt(e.d4))||!e.number||e.number.length<4?0:parseInt(e.d4),n=isNaN(parseInt(e.d3))||!e.number||e.number.length<3?0:parseInt(e.d3),r=isNaN(parseInt(e.d2))||!e.number||e.number.length<2?0:parseInt(e.d2),l=0,o=0;-1!==I&&(l=t[I].discount,o=t[I].fee);var u=1e3*a+1e3*n+1e3*r,m=Math.round(u*(l/100)),c=Math.round(u*(o/100)),d=u-m+c;return e.discount=m,e.fee=c,e.total=d,e},A=function(e){var t=function e(t){if(!t||"string"!=typeof t)return"";if(t.length<2)return t;for(var a=[],n=0;n<t.length;n++){var r=t[n];if(t.indexOf(r)===n)for(var l,o=b(e(t.slice(0,n)+t.slice(n+1,t.length)));!(l=o()).done;){var u=l.value;a.push(r+u)}}return a}(e.number),a=[];return t.forEach((function(t){var n=Object.assign({},e);n.number=t,a.push(n)})),a},H=function(){return r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nomor"),r.a.createElement("th",null,r.a.createElement(m.a.Text,null,"Taruhan 4D"),r.a.createElement(m.a.Control,{placeholder:"auto","data-game":"auto4d",type:"number",value:N.auto4d,onChange:k})),r.a.createElement("th",null,r.a.createElement(m.a.Text,null,"Taruhan 3D"),r.a.createElement(m.a.Control,{placeholder:"auto","data-game":"auto3d",type:"number",value:N.auto3d,onChange:k})),r.a.createElement("th",null,r.a.createElement(m.a.Text,null,"Taruhan 2D"),r.a.createElement(m.a.Control,{placeholder:"auto","data-game":"auto2d",type:"number",value:N.auto2d,onChange:k})),r.a.createElement("th",null,"BB"),r.a.createElement("th",null,r.a.createElement(c.a,{style:{width:"auto"},title:"Add Bet",onClick:B,className:"d-md-block d-none"},r.a.createElement(u.a,{icon:o.d,size:"sm"}))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(i.a,null,r.a.createElement("h2",null,"4D, 3D, 2D"),r.a.createElement("h5",null,"IDR 1,000 = 1"))),r.a.createElement(d.a,null,r.a.createElement(i.a,null,r.a.createElement(m.a,{inline:!0},r.a.createElement(s.a,{striped:!0,hover:!0,responsive:!0,className:"betTable betPanel",size:"sm"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7},r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,{style:{fontSize:"1.8em",margin:"2px 2rem 0 0",padding:"0.375rem 2px"}},"Bet Panel"),r.a.createElement(m.a.Control,{as:"select",className:"form-control betTable inherit",value:I,onChange:function(e){var t=e.target.value;S(t),_()},plaintext:!0,style:{fontWeight:"bolder",fontSize:"2em"}},r.a.createElement("option",{disabled:!0,value:-1},"Select Market"),Object.keys(t).map((function(e){return r.a.createElement("option",{key:e,value:e},t[e].name)})))),r.a.createElement("div",{className:"d-md-none d-sm-block"},r.a.createElement(c.a,{style:{width:"auto"},title:"Add Bet",onClick:B},"Tambah Baris ",r.a.createElement(u.a,{icon:o.d,size:"sm"})),r.a.createElement(c.a,{style:{width:"auto"},variant:"danger",onClick:function(){return j(E.length-1)}},"Hapus Terakhir"," ",r.a.createElement(u.a,{icon:o.f,size:"sm"}))))),H()),r.a.createElement("tbody",null,E.map((function(e,t){return r.a.createElement("tr",{key:"bet-"+t},r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:t+1+".",style:{width:"1rem"}})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{placeholder:"ABCD",min:0,type:"number",max:9999,pattern:"[0-9]{2,4}",maxLength:4,value:e.number,"data-field":"number","data-bet":t,onChange:D})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{placeholder:"4D",min:0,type:"number",disabled:!e.number||e.number.length<4,value:e.d4,"data-field":"d4","data-bet":t,onChange:D})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{placeholder:"3D",min:0,type:"number",disabled:!e.number||e.number.length<3,value:e.d3,"data-field":"d3","data-bet":t,onChange:D})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{placeholder:"2D",min:0,type:"number",disabled:!e.number||e.number.length<2,value:e.d2,"data-field":"d2","data-bet":t,onChange:D})),r.a.createElement("td",null,r.a.createElement(m.a.Check,{type:"switch",id:"bb-bet-"+t,"data-field":"bb","data-bet":t,checked:e.bb,onChange:D})),r.a.createElement("td",null,r.a.createElement(c.a,{style:{width:"auto"},"data-bet":t,variant:"danger",onClick:function(){return j(t)},className:"d-md-block d-none"},r.a.createElement(u.a,{icon:o.f,size:"sm"}))))}))),r.a.createElement("tfoot",{className:"table-dark"},H())))),r.a.createElement(i.a,null,r.a.createElement(m.a,{inline:!0},r.a.createElement(s.a,{striped:!0,responsive:!0,hover:!0,size:"sm",className:"betTable mt-3 mt-sm-3 mt-md-0"},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:3},r.a.createElement(m.a.Label,{style:{fontSize:"1.8em",margin:"2px 2rem 0 0",padding:"0.375rem 2px"}},"Hasil Total")),r.a.createElement("th",{colSpan:3},r.a.createElement(m.a.Text,null,r.a.createElement("h6",null,"Total:"," ",r.a.createElement("strong",null,T.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," ","IDR"))))),p.filter((function(e){return e.bets.length>0})).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"ticket-"+t},r.a.createElement("thead",{className:"table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:3},r.a.createElement(m.a.Text,null,"Ticket #",t+1),r.a.createElement(m.a.Label,null,r.a.createElement("h5",{className:"my-1"},"Nomor ",e.number," ",e.bb?"+ BB":""))),r.a.createElement("th",{colSpan:3,className:"bg-warning text-dark"},r.a.createElement(m.a.Text,null,r.a.createElement("h6",null,"Ticket Bayar:"," ",r.a.createElement("strong",null,e.total.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," ","IDR")),r.a.createElement(m.a.Text,null,r.a.createElement("h6",null,r.a.createElement("strong",null,e.bets.length)," Taruhan")))),r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nomor"),r.a.createElement("th",null,"Bet"),r.a.createElement("th",null,"Diskon"),r.a.createElement("th",null,"Bayar:"))),r.a.createElement("tbody",null,e.bets.map((function(e,t){return r.a.createElement("tr",{key:"res-"+t},r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:t+1+".",style:{width:"1rem"}})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:e.number})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:e.pretotal.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:e.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})),r.a.createElement("td",null,r.a.createElement(m.a.Control,{plaintext:!0,readOnly:!0,value:e.total.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})))}))))}))),r.a.createElement(c.a,{variant:"warning",className:"mx-auto"},"Submit"),r.a.createElement(c.a,{variant:"danger",className:"mx-auto",onClick:_},"Clear")))))};t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{markets:{0:{name:"Indonesia",games:{d4:{game_id:234,discount:10,fee:3},d3:{game_id:2138,discount:20,fee:5},d2:{game_id:3213,discount:0,fee:10}}},1:{name:"China",games:{d4:{game_id:234,discount:10,fee:3},d3:{game_id:2138,discount:20,fee:5},d2:{game_id:3213,discount:0,fee:10}}},2:{name:"Texas",games:{d4:{game_id:234,discount:10,fee:3},d3:{game_id:2138,discount:20,fee:5},d2:{game_id:3213,discount:0,fee:10}}},3:{name:"Mexico Mega",games:{d4:{game_id:234,discount:0,fee:0},d3:{game_id:2138,discount:0,fee:0},d2:{game_id:3213,discount:0,fee:0}}}}}))}}}]);
//# sourceMappingURL=component---src-pages-games-xd-js-0ecc163b221008693338.js.map